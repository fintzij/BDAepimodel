10/2/2015
================================
- Consider how to standardize the initial distribution arguments. No need to provide general functionality here.
- Write function to implement direct sampling and counter for forward-sampling failure.

10/1/2015
================================
- Write M-H acceptance function for trajecs, as well as function to resolve the decision and re-insert the old trajectory
- Write test function for forward sampling function - possibly an extended test. 
- Write test function for HMM sampling

9/30/2015
================================
- Write function for subject-level likelihood

9/29/2015
================================
- Write the function to sample the DT skeleton. 

9/28/2015
================================
- Consider just standardizing the initial distribution arguments rather than providing general functionality here. Ask Vladimir about this. 

9/27/2015
================================
0) Trajectory sampling procedure:
          i. compute subject-level log-likelihood for current trajectory
          ii. save the current trajectory in .subj_traj_cur
          iii. remove the current trajectory by NA-ing it out and re-sort the config_mat
          iv. draw new subject-level path
          v. insert the new path
          vi. M-H step
1) test the removal steps above
2) build_tpm_seq - need to modify the indexing for t0 and t1 to use .other_inds
3) 

9/26/2015
================================
1) Functions to generate the emission matrices and FB matrices
2) Function to determine whether there are absorbing states and whether the process is recurrent. 

9/25/2015
================================
1) Include keys and observation-interval number in the config_mat matrix
	a) functions to update: expand_config_mat, build_irm
2) Write - generate_key function
3) Finish build_tpm_seqs and write test for it


9/24/2015
================================
- IRMs and eigen decompositions done. Also finished functions to check whether a rate matrix and eigen decompositition is needed, and to update existing rate matrices and eigen decompositions. All IRM related functions are tested. 
- Tomorrow: functions to construct sequences of TPMs, emission probabilities, and forward backward matrices. Then FB functions. One consideration is how to deal with processes that are recurrent - consult with Vladimir and Jon. 

9/23/2015
================================
- Solved issue of how to store and index into IRMs - used environment of IRMs, indexed into by character string of index state counts. IRM can be pulled out using 'charmatch'. Eigen decompositions should be handled the same way.
- Next steps: 1) write functions to compute eigen decompositions. Consider whether these should be their own separate environment or whether they can be saved in the same environment as the IRMs. 
+ rate matrices and eigen decompositions exist in separate environments

9/19/2015
================================
- Write update_prior_prob function - should compare new and old vectors of parameters on estimation scale, then update the prior distributions for the parameters that have changed. 
- Write functions to calculate the log-likelihood, population- and subject-level likelihoods
- Functions to compute the IRMs and TPMs
- Consider what is the best way to save and index into an array of IRMs and TPMs

9/9/2015
================================
- Reconsider how r_meas_process and d_meas_process operate. Consider how to facilitate their handling matrices as arguments rather than restricting to vectors. 

9/8/2015
================================
- Wrote test function for sim_one_event and slightly reworked init_obs_mat. 
- Tomorrow: function to simulate the data and update the obs_mat and dat objets. 

9/7/2015
================================
- Wrote function to be iterated in the simulation function: sim_one_event.

9/4/2015
================================
- Deprecated subject level bookkeeping matrix in favor of a combined subject-level and population -level bookeeping matrix. 


9/2/2015
================================
- Re-wrote rate extraction function to make rates available for use without a rate evaluation fcn. 
  + Rate functions always take their 'state' argument as a matrix, and their parameters argument as a vector. 
- Tomorrow: function to generate next event times. the function should inspect the current configuration and generate a new event time for each possible transition for each subject. Next event times should be stored as several vectors, or possibly as a matrix with impossible transitions recieving an Inf entry. 


General to-do:
================================

- Write a print method for epimodel

- Consider how to specify the initial distribution at t0. 

- Bookkeeping object for storing results. Should be separate from the primary bookkeeping object for memory reasons. Alternately, consider a method to write results to disk. Consult Vladimir.